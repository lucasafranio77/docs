Lista de bons materiais e links compartilhados por nossa equipe que dizem respeito √† Git (Versionamento de C√≥digo) e outros assuntos relacionados.

### **Menu**

- [Links √∫teis](#links-%C3%BAteis)
- [Versionamento](#versionamento)
    - [Qual √© a vantagem de ter um reposit√≥rio em minha m√°quina local?](#qual-%C3%A9-a-vantagem-de-ter-um-reposit%C3%B3rio-em-minha-m%C3%A1quina-local)
- [O Git](#o-git)
- [Conceitos no Git](#conceitos-no-git)
    - [Clone](#clone)
    - [Commit](#commit)
    - [Pull](#pull)
    - [Push](#push)
    - [Fast-Forward](#fast-forward)
    - [Merge](#merge)

## Links √∫teis

* [Git Flow - Blog GitLab](https://about.gitlab.com/2014/09/29/gitlab-flow/) - Leitura altamente recomendado
* [11 Regras do Git Flow, segundo o GitLab](https://about.gitlab.com/2016/07/27/the-11-rules-of-gitlab-flow/)
* [Git Cheat Sheet](http://www.git-tower.com/blog/git-cheat-sheet-detail/)
* [Tutorial interativo do git](http://try.github.io/levels/1/challenges/1) - Altamente recomendado para quem nunca utilizou git
* [Documenta√ß√£o oficial do git](http://git-scm.com/documentation)
* [Guia r√°pido de comandos do git](http://www.siteground.com/tutorials/git/commands.htm)
* [screencast do Fabio Akita sobre Git](http://www.akitaonrails.com/2010/08/17/screencast-comecando-com-git)
* [Pro Git livro gratuito](http://git-scm.com/book)
* [Curso Udacity - Como Usar o Git e o GitHub](https://br.udacity.com/course/how-to-use-git-and-github--ud775)
* [Curso Udacity - Version Control with Git](https://br.udacity.com/course/version-control-with-git--ud123)
* [GitHub Learning Lab](https://lab.github.com/)
* [15 minutes to learn Git](https://try.github.io) üîù
* [Git-it (Desktop App) - NodeSchool](https://github.com/jlord/git-it-electron) üÜì üîù
* üåç [Learn Git on CodeCademy](https://www.codecademy.com/learn/learn-git) üí∞üÜì üîù
* [Learn Git Branching ‚Äì Educational challenges](https://learngitbranching.js.org/) üÜì
* [Learn Git by Microsoft](https://www.visualstudio.com/learn-git/) üÜì
* [Git-it ‚Äì Learn Git in a real terminal](http://jlord.us/git-it/) üÜì
* [Git CheatSheet](http://www.ndpsoftware.com/git-cheatsheet.html) üÜì
* [Git Essential Training - Lynda](https://www.lynda.com/Git-tutorials/Git-Essential-Training/100222-2.html) üí∞ üìπ
* [Try Git](https://www.codeschool.com/courses/try-git) üÜì

**[‚¨Ü Voltar ao topo](#menu)**

## Versionamento
"Um sistema de controle de vers√£o (ou versionamento), √© um software com a finalidade de gerenciar diferentes vers√µes no desenvolvimento de um documento qualquer. Esses sistemas s√£o comumente utilizados no desenvolvimento de software para controlar as diferentes vers√µes &mdash; hist√≥rico e desenvolvimento &mdash; dos c√≥digos-fontes e tamb√©m da documenta√ß√£o de software." - Wikipedia

O Conceito de versionamento surgiu da necessidade de v√°rios programadores trabalharem simultaneamente na mesma base de c√≥digo de forma eficiente e facil. O versionamento de c√≥digo permite que diferentes programadores, atrav√©s de 'commits', submetam vers√µes ou modifica√ß√µes para um reposit√≥rio, em que os diferentes commits ser√£o agregados.

### Qual √© a vantagem de ter um reposit√≥rio em minha m√°quina local?

- Com um reposit√≥rio local, o desenvolvedor pode controlar a vers√£o do software que est√° sendo desenvolvido sem depender de uma conex√£o de rede com um servidor central. S√≥ √© necess√°rio fazer uma conex√£o com o servidor remoto no fim do trabalho ou para atualizar o reposit√≥rio, caso necess√°rio.

- Permite que o trabalho seja isolado por equipe podendo fazer uma hierarquia de responsabilidade no projeto. Nesse caso, cada equipe teria um reposit√≥rio e os desenvolvedores despejariam seus trabalhos (reposit√≥rio locais) no reposit√≥rio da equipe. O gerente do projeto mesclaria o trabalho de cada equipe em um reposit√≥rio principal.

- Facilita a gest√£o de softwares com m√∫ltiplas vers√µes (open-source, community, paga, por cliente, etc.)

- Em caso de desastre com o reposit√≥rio principal, qualquer reposit√≥rio local (ou de equipes) pode ser usado para restaurar o backup.

## O Git
O Git √© um sistema de versionamento ''distribuido'', ou seja, cada c√≥pia do c√≥digo fonte √© na verdade um reposit√≥rio em si, permitindo por exemplo que um programador possa submeter uma vers√£o √† qualquer outro reposit√≥rio, sem que este seja necessariamente o reposit√≥rio central (e.g. um programador X pode submeter uma vers√£o do c√≥digo √† outro programador Y diretamente, sem passar pelo gitlab).
Em um sistema Linux baseado em Debian, instalar o git √© simples:

```
$ sudo apt-get install git
```

Na Infocorp n√≥s utilizamos o [Gitlab](http://gitlab.com) como reposit√≥rio central.

## Conceitos no Git

- INIT - Inicializar um reposit√≥rio em um diret√≥rio na m√°quina local;

- CLONE - Copiar um reposit√≥rio existente para a m√°quina local;

- STAGE - √Årea intermedi√°ria que √© usada para agrupar o que deve ser enviado no pr√≥ximo COMMIT a ser realizado;

- COMMIT - Salvar o estado do seu projeto;

- TAG - Dar um nome para o estado atual em que est√° o seu projeto. Dar um n√∫mero de vers√£o por exemplo.

- FETCH - Fazer download dos dados de um reposit√≥rio remoto

- PUSH - Fazer upload dos dados de um reposit√≥rio remoto

- BRANCH - Iniciar um trabalho sem interferir no trabalho atual. Por exemplo, iniciar o desenvolvimento de alguma funcionalidade sem interferir no c√≥digo principal que est√° em produ√ß√£o. √â um ponteiro para o √∫ltimo commit.

- MASTER - nome default do primeiro BRANCH que existe em todos os projetos.

- HEAD - onde voc√™ est√° posicionado atualmente no reposit√≥rio. Ou seja, aponta para um determinado COMMIT dentro de um BRANCH.

- MERGE - Unir o c√≥digo de dois BRANCHES

### Clone
Para come√ßar a usar uma base de c√≥digo existente, primeiro precisamos clonar um reposit√≥rio (geralmente o central). Ao clonar um reposit√≥rio, voc√™ ter√° em seu computador uma c√≥pia exata da base de c√≥digo, bem como dos metadados do git. Para clonar por exemplo o reposit√≥rio do AudienceUI, primeiro navegue at√© a sua pasta de projetos (e.g. ~/projects/):
```
$ cd ~/projects/
```
Depois, com suas chaves SSH configuradas no gitlab, execute o clone:

```
$ git clone git@gitlab.com:infocorp/wiki.git
```
Pronto, agora voc√™ tem uma c√≥pia da base local da nossa wiki no teu PC.

### Commit
O commit, √© a maneira de criar um 'pacote' com suas modifica√ß√µes, que pode ser submetido a outros reposit√≥rios.
Por exemplo, voc√™ modificou (e/ou criou novos) arquivos na pasta ''templates'' relativos √† uma nova feature HTML.
Primeiro voc√™ deve adicionar os arquivos modificados/adicionados ao processo de commit. voc√™ pode adicionar arquivos espec√≠ficos, caso n√£o queira submeter todas as modifica√ß√µes, ou adicicionar todos:

```
$ # Adicionando um arquivo espec√≠fico:
$ git add caminho/para/arquivo/teste.html
$ # Adicionando todos os arquivos que foram modificados/adicionados:
$ git add --all
```

Com os arquivos adicionados, voc√™ pode agora "gerar um pacote" com suas modifica√ß√µes, o tal do commit:

```
$ git commit -m "Implementada feature XYZ"
```

O par√¢metro '-m' se refere √† mensagem agregada ao commit, ele √© '''obrigat√≥rio''' e essencial para sabermos exatamente quais modifi√ß√µes foram feitas neste commit.

### Pull

O 'pull' √© a maneira padr√£o de atualizar o reposit√≥rio local com os commits de um reposit√≥rio remoto. Ao fazer um 'pull' voc√™ estar√° efetivamente 'puxando' os commits do reposit√≥rio remoto e aplicando-os ao reporit√≥rio local. O pull est√° intrinsicamente ligado ao conceito de 'Branch' ao qual n√£o entrarei em muitos detalhes neste crash course. Para entender o conceito de branch por favor consulte o link:  [O Que √© um branch](http://git-scm.com/book/pt-br/Ramifica%C3%A7%C3%A3o-(Branching)-no-Git-O-que-%C3%A9-um-Branch )

A sintaxe do pull √© bem simples:

```
$ git pull
```
O pull efetivamente copiar√° os commits do reposit√≥rio do github e os aplicar√° em seu reposit√≥rio local. Se houver algum arquivo conflitante (que foi modificado por voc√™ e por algum outro, de tal modo que o git n√£o consiga junt√°-los automaticamente) voc√™ receber√° um aviso de que os arquivos devem ser 'mergeados'. O Merge ser√° tratado com mais detalhes em um t√≥pico abaixo.

### Push
O 'push' √© maneira padr√£o de submeter commits do reposit√≥rio local ao reposit√≥rio remoto. Ao fazer o 'push' voc√™ estar√° efetivamente 'empurrando' os commits locais ao reposit√≥rio remoto. A sintaxe do push √© identica √† do pull:

```
$ git push
```

*Nota:* Sempre fa√ßa um pull antes de fazer um push, para evitar Fast-Forwards.

### Fast-Forward
O fast-forward √© quando dois reposit√≥rios divergiram em seus commits e um pull ou push foi acionado.
e.g. Um reposit√≥rio originalmente em estado X foi modificado pelo programador P1 e pelo programador P2, que geraram os commits C1 e C2 respectivamente. O Programador P1 ent√£o faz push de seu commit para o github. O Programador P2, far√° ent√£o um pull para garantir que esteja atualizado com a ultima vers√£o do github, e a√≠ ent√£o ocorrer√° um fast forward. O commit C1 ser√° trazido do servidor para o computador do progamador P2 e ser√° 'mergeado' com o commit C2. S√≥ depois deste merge (que pode ter sido autom√°tico ou manual), o programador P2 far√° um push e enviar√° o commit C2 para o servidor, deixando o github atualizado com os commits C1 e C2. Note que por quest√µes de consist√™ncia, o github bloqueia fast-forwards em seus servidores, portanto se o programador P2 n√£o fizesse o pull, e fosse direto ao push, o git mostraria uma mensagem de erro, avisando que o reposit√≥rio divergiu, e que √© necessario fazer um pull e merge locais antes de submeter o seu commit.

### Merge
O Merge acontece quando duas vers√µes divergentes da base de c√≥digo precisam ser agregadas. No exemplo do fast-forward acima, o merge ocorre quando P2 faz o pull. O git automaticamente tentar√° juntar os arquivos e gerar um novo novo commit que √© o resultado da combina√ß√£o C1+C2. O git faz um trabalho muito bom em merges autom√°ticos, mas em alguns casos ele pode n√£o conseguir mergear alguns arquivos, e gerar√° uma mensagem de conflito. Neste caso precisamos fazer o merge manual, via o comando:

```
$ git mergetool
```

Assim que voc√™ tiver resolvido os conflitos pela ferramenta de merge, Voc√™ ter√° de 'terminar' o commit de merge que o git abriu automaticamente, com:

```
$ git commit
```

Note que neste caso, n√£o devemos passar o argumento '-m' para o commit, pois uma mensagem detalhada com o que foi mergeado √© gerada pelo git.
Assim que acionar o commit acima, o git abrir√° um editor de arquivos em seu terminal com a mensagem que foi gerada pelo merge (voc√™ pode modific√°-la se quiser), geralmente o VIM ou o nano. Salve o arquivo e feche o editor (':wq [enter]' no VIM e ctrl-o ctrl-x no nano), e est√° pronto o merge.

**[‚¨Ü Voltar ao topo](#menu)**